:showtitle:
:page-navtitle: Les nouveautés d'Angular 17
:page-excerpt: Google a publié le 8 novembre 2023, la nouvelle version 17 est sortie avec une nouvelle image de marque, une nouvelle syntaxe de contrôle de flux, le déférée de blocs et des nouveaux Hooks de cycle de vie.  Cet article explique en détail toutes les nouveautés mentionnées précédemment, afin d'avoir les clés nécessaires pour démarrer la nouvelle version.
:layout: post
:author: khaoulamrabet
:page-tags: [Angular, Angular17, control Flow, lazy loading blocs, Signal, Hydratation par défaut, Hooks,]
:page-vignette: angular17.png
:page-liquid:

= Les nouveautés d'Angular 17

Angular attire encore l’attention dans le domaine IT après les différents changements apporté par la version 16 et il est devenu le choix numéro 1 dans le marché Français selon les statistiques de 2023.

Google a publié le 8 novembre 2023, la nouvelle version 17 est sortie avec une nouvelle image de marque, une nouvelle syntaxe de modèle de blocs, le déférée de blocs et des nouveaux Hooks de cycle de vie.  

Cet article explique en détail toutes les nouveautés mentionnées précédemment, afin d'avoir les clés nécessaires pour démarrer la 

== Nouvelle image de marque 

En premier lieu, une nouvelle image de marque avec un nouveau logo est sortie, dans le but de régler le différend entre Angular Js et Angular 2+. 
La création d'une nouvelle plateforme de documentation avec une méthode d'apprentissage interactive vous permettra d'acquérir des compétences en Angular.Il est plus facile de repérer les informations nécessaires pour nous présenter les principes fondamentaux du Framework via une plateforme plus moderne.
Pour accéder à la plateforme : https://angular.dev/ 

image::khaoulamrabet/plateforme.png[image,width=70%,align="center"]

== La nouvelle syntaxe control flow

Depuis Angular 2, le flux de contrôle est fait par les directives *ngIf, *ngFor et *ngSwitch.
Une nouvelle syntaxe de Flux de contrôles cette fois-ci sans directive, il vous suffit d'entourer vos morceaux de codes par la `@-syntax`.
Les directives structurelles *ngIf et *ngFor sont remplacés par `@if` et `@for`. 
On pourra voir une amélioration au niveau de code des templates : 
1. Moins de complexité au niveau des lignes de code.
2. Proche au syntaxe Javascript.
3. Réduire l’utilisation de ng-container pour ajouter des conditions d’affichage
4. Il est automatiquement disponible dans vos modèles sans importations supplémentaires
Nous allons explorer en détail les nouvelles syntaxes de @if, @for et @switch.

=== La syntaxe @if
@If permet un rendu conditionnel dans vos template. la nouvelle v ersion apporte une simplification majeure est définie par rapport à la clause Else de la directive *ngIf. Et depuis, Le flux de contrôle actuel rend également simple l'utilisation de @else if.

[source,typescript,html]
----
  @if (user.role === 'ADMIN' ) {
   <app-add-user></app-add-user>
  }
  @else {
   <p>
     Contacter votre administrateur pour pouvoir ajouter un nouveau Utilisateur
   </p>
  }
----
=== La syntaxe @Switch 

Avec le nouveau syntaxe, l’ajout des cas en plus peuvent être distingués et plus lisible.

[source,typescript,html]
----
   @switch (user.role) {
    @case ('ADMIN') {
      <app-add-user></app-add-user>
    }
    @case ('MANAGER') {
      <app-add-product></app-add-product>
    }
    @default {
      <p>Vous n\'avez pas l\'accés à créer un nouveau utilisateur ou produit.</p>
    }
  }
----

=== La syntaxe @for
Nous constatons souvent des problèmes de performances de chargements des éléments d’une liste à chaque traitement effectué sur une partie de la liste en raison du manque de trackBy dans *ngFor. 

La nouvelle syntaxe de track est bien plus facile à utiliser puisqu'il s'agit simplement d'une expression plutôt que d'une méthode dans la classe du composant.

En plus, @for dispose également d'un raccourci pour les collections sans élément via un @empty bloc facultatif.

[source,typescript,html]
----
  @for (user of users(); track user) {
    <div class="item">
      <p>First Name: {{user.firstName}} </p>
      <p>last name: {{user.lastName}}</p>
      <p>Phone: {{user.phone}}</p>
    </div>
  } @empty {
    <p>Aucun Utilisateur ajouté.</p>
  }
----
=== Migration vers Angular 17

Pour avoir ce syntaxe dans nos anciennes applications, juste après l’installation angular/core@17, il reste que de lancer cette commande ng générer @angular/core:control-flow qui permet automatiquement de mettre en place ce nouveau syntaxe dans nos Templates.

== Conclusion

Cette nouvelle version 16 apporte deux améliorations majeures :

* Dans l'hydratation, ce qui réduit le temps de chargement des applications
* Signal qui améliore l'observabilité des composants.

Comme le montre les exemples de cet article, le code produit avec la version 16 est moins compliqué et nettement plus expressif, ce qui améliore grandement l'expérience de développement.